# 출결 기록 앱 📚

초등학교 교사용 로컬 우선(Local-first) 출결 기록 웹앱입니다. 수업 중 언제든 단축키로 빠르게 출석/지각/조퇴/결석을 체크하고, 데이터가 절대 날아가지 않도록 자동 저장·백업합니다.

## ✨ 주요 기능

### 🚀 빠른 입력 패널
- **전역 단축키**: `Ctrl+Alt+A` (Windows) / `⌥⌘A` (Mac)
- 3단계 빠른 입력: 날짜/교시 → 상태 선택 → 학생 선택
- 실시간 검색으로 학생 빠른 찾기

### 💾 안전한 데이터 관리
- **완전 오프라인**: 모든 데이터는 브라우저에 안전하게 저장
- **자동 저장**: 30초마다 자동 저장
- **자동 백업**: 5분마다 자동 백업 (최대 20개 보관)
- **수동 백업**: JSON 파일로 언제든 내보내기/가져오기

### 📊 출결 관리
- 일일/월간 출결 현황 대시보드
- 학생별 출결 통계
- 중복 입력 방지 및 스마트 상태 조정
- 조퇴 시 후속 교시 자동 처리

### 📁 데이터 내보내기
- **나이스 호환**: CSV 형식으로 내보내기 (csvA/csvB 형식)
- **학생 명단**: CSV로 일괄 가져오기/내보내기

## 🛠️ 설치 및 실행

### 웹앱 사용 (권장)

1. **개발 서버 실행**
```bash
cd attendance-app
npm install
npm run dev
```

2. **브라우저에서 접속**
```
http://localhost:5173
```

3. **PWA 설치** (선택사항)
- 브라우저 주소창의 설치 아이콘 클릭
- 또는 설정 메뉴에서 "앱 설치"

### 프로덕션 빌드

```bash
npm run build
npm run preview
```

### Electron 앱 빌드 (선택사항)

```bash
npm run build:electron
```

## 🎯 사용법

### 기본 사용법

1. **학생 명단 등록**
   - 설정 > 학생 관리에서 CSV 파일 업로드
   - 또는 직접 학생 정보 입력

2. **출결 입력**
   - `Ctrl+Alt+A`로 빠른 입력 패널 열기
   - 날짜/교시 선택 → 상태 선택 → 학생 선택 → 저장

3. **데이터 확인**
   - 대시보드에서 일일 현황 확인
   - 리포트에서 상세 통계 확인

### 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| `Ctrl+Alt+A` / `⌥⌘A` | 빠른 입력 패널 열기/닫기 |
| `ESC` | 패널/모달 닫기 |
| `Ctrl+S` | 수동 저장 (표시용) |
| `숫자키 1-6` | 학생 검색 시 출석번호 입력 |

## 📁 데이터 구조

### CSV 가져오기 형식 (학생 명단)
```csv
번호,이름,학급,학년
1,김가은,6-8,6
2,박도윤,6-8,6
3,이서준,6-8,6
```

### CSV 내보내기 형식

**csvA (일반 형식)**
```csv
날짜,학급,학년,번호,이름,교시,상태,사유
2025-09-14,6-8,6,2,박도윤,2,지각,버스 지연
2025-09-14,6-8,6,3,이서준,,결석,병원 예약
```

**csvB (교시별 형식)**
```csv
날짜,학급,학년,번호,이름,1교시,2교시,3교시,4교시,5교시,6교시,비고
2025-09-14,6-8,6,2,박도윤,출석,지각,출석,출석,출석,출석,
2025-09-14,6-8,6,3,이서준,결석,결석,결석,결석,결석,결석,병원 예약
```

## 🔧 설정

### 자동 저장/백업 주기 변경
- 설정 > 일반에서 간격 조정 가능
- 기본값: 자동저장 30초, 자동백업 5분

### 단축키 변경
- 설정 > 단축키에서 변경 가능
- Electron 버전에서만 전역 단축키 지원

### 백업 파일 위치
- **웹 브라우저**: 다운로드 폴더
- **Electron**: `사용자폴더/Documents/출결기록앱/backups/`

## 🚨 주의사항

### 데이터 안전성
- 모든 데이터는 **로컬에만 저장**됩니다
- 브라우저 데이터 삭제 시 모든 기록이 사라질 수 있습니다
- **정기적으로 백업 파일을 외부에 보관**하세요

### 브라우저 호환성
- Chrome/Edge 90+ (권장)
- Firefox 88+
- Safari 14+
- **Internet Explorer 지원 안함**

### 성능 고려사항
- 학생 수: 최대 100명 권장
- 출결 기록: 연간 5만건까지 테스트됨
- 대용량 데이터 시 정기적인 백업 정리 필요

## 🛠️ 기술 스택

- **Frontend**: React 18 + TypeScript + Vite
- **Styling**: Tailwind CSS
- **Database**: IndexedDB (Dexie.js)
- **State Management**: React Query + Context API
- **PWA**: Workbox
- **Desktop**: Electron (선택사항)

## 📝 개발자 정보

### 프로젝트 구조
```
attendance-app/
├── src/
│   ├── components/        # UI 컴포넌트
│   │   ├── QuickPanel.tsx # 빠른 입력 패널
│   │   └── ui/            # 기본 UI 컴포넌트
│   ├── pages/             # 페이지 컴포넌트
│   ├── services/          # 비즈니스 로직
│   ├── db/               # 데이터베이스 스키마
│   ├── types/            # TypeScript 타입 정의
│   └── styles/           # 전역 스타일
├── electron/             # Electron 래퍼 (선택)
└── public/              # 정적 파일
```

### 개발 명령어

```bash
npm run dev          # 개발 서버
npm run build        # 프로덕션 빌드
npm run preview      # 빌드 미리보기
npm run type-check   # TypeScript 검사
npm run lint         # ESLint 검사
npm test             # 테스트 실행
```

## 🔄 업데이트 내역

### v1.0.0 (2025-09-14)
- ✨ 초기 버전 출시
- 🚀 빠른 입력 패널 구현
- 💾 IndexedDB 기반 로컬 저장소
- 📊 기본 대시보드
- 🔄 자동 저장/백업 시스템

## 📞 지원

### 문제 신고
- 버그나 기능 요청은 GitHub Issues 활용
- 긴급한 문제는 개발자에게 직접 연락

### 자주 묻는 질문

**Q: 데이터가 사라졌어요**
A: 설정 > 백업에서 자동 백업 파일을 확인하거나, 백업 파일을 가져오기하세요.

**Q: 다른 컴퓨터에서 사용하려면?**
A: 설정 > 백업에서 "수동 백업"으로 JSON 파일을 내보낸 후, 새 컴퓨터에서 가져오기하세요.

**Q: 인터넷이 없어도 사용 가능한가요?**
A: 네, 완전히 오프라인에서 작동합니다. PWA로 설치하면 더 안정적입니다.

---

📧 **개발자**: 출결기록앱 개발팀
🌐 **프로젝트**: [GitHub Repository]
📅 **최종 업데이트**: 2025-09-14